<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Alpine Connexion</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<!-- #region Toast -->
<div class="toast" id="toast" aria-live="polite" aria-atomic="true"></div>
<!-- #endregion -->

<!-- #region App -->
<div id="app">
    <!-- #region Header / Banner ‚Äî Logo centr√© style hero (comme ref ) -->
    <header class="banner">
        <div class="banner-inner">
            <img
                class="banner-logo-img"
                src="https://res.cloudinary.com/divcybeds/image/upload/v1771239856/Alpine_Connection_Wonka_LETTERING-V01_Logo_2022_o7rhyc.png"
                alt="Alpine Connexion"
            >
        </div>
    </header>
    <!-- #endregion -->

    <!-- #region Vue Catalogue -->
    <div class="view-panel" id="view-catalog">
        <nav class="filter-bar" aria-label="Filtres">
            <div class="filter-bar-left">
                <div class="points-badge-wrap" onclick="openRewardsModal()" id="points-badge-wrap" title="">
                    <div class="points-bar-mini"><div class="points-bar-mini-fill" id="points-bar-mini-fill"></div></div>
                    <span class="points-badge" id="points-badge">‚≠ê ‚Äî</span>
                </div>
                <select class="lang-select" id="lang-switch" onchange="setLang(this.value)">
                    <option value="fr">FR</option>
                    <option value="en">EN</option>
                    <option value="de">DE</option>
                </select>
            </div>
            <select class="filter-select" id="filter-category">
                <option value="" id="filter-all-option">üìÇ Toutes les cat√©gories</option>
            </select>
        </nav>
        <main class="products-wrap">
            <div class="products-grid" id="products-grid"></div>
        </main>
    </div>
    <!-- #endregion -->

    <!-- #region Vue Avis -->
    <div class="view-panel hidden" id="view-reviews">
        <div class="reviews-page">
            <h2 class="reviews-page-title" id="reviews-page-title">Avis clients</h2>
            <p class="reviews-page-intro" id="reviews-page-intro"></p>
            <div class="reviews-list" id="reviews-list"></div>
            <div class="review-form-wrap">
                <h3 class="review-form-title" id="review-form-title">Laisser un avis</h3>
                <textarea class="review-input" id="review-input" placeholder="" rows="4" maxlength="2000"></textarea>
                <div class="review-media-upload">
                    <label class="review-media-label" id="review-media-label">Photo ou vid√©o (optionnel)</label>
                    <input type="file" id="review-media-input" accept="image/*,video/*" multiple />
                    <div class="review-media-preview" id="review-media-preview"></div>
                </div>
                <div class="review-form-actions">
                    <div class="review-stars" id="review-stars" aria-label="Note">
                        <button type="button" class="star" data-rating="1">‚òÖ</button>
                        <button type="button" class="star" data-rating="2">‚òÖ</button>
                        <button type="button" class="star" data-rating="3">‚òÖ</button>
                        <button type="button" class="star" data-rating="4">‚òÖ</button>
                        <button type="button" class="star" data-rating="5">‚òÖ</button>
                    </div>
                    <button type="button" class="btn-submit-review" id="btn-submit-review">Publier</button>
                </div>
                <p class="review-form-hint" id="review-form-hint"></p>
            </div>
        </div>
    </div>
    <!-- #endregion -->

    <!-- #region Bottom navigation -->
    <nav class="bottom-nav" aria-label="Navigation principale">
        <button type="button" class="bottom-nav-item active" id="nav-catalog" onclick="showView('catalog')" aria-current="page">
            <span class="bottom-nav-icon">üõí</span>
            <span class="bottom-nav-label" id="nav-catalog-label">Catalogue</span>
        </button>
        <button type="button" class="bottom-nav-item" id="nav-reviews" onclick="showView('reviews')">
            <span class="bottom-nav-icon">‚≠ê</span>
            <span class="bottom-nav-label" id="nav-reviews-label">Avis</span>
        </button>
    </nav>
    <!-- #endregion -->
</div>
<!-- #endregion -->

<!-- #region Product Modal -->
<div class="modal-overlay" id="product-modal" onclick="closeProductModal(event)">
    <div class="modal-sheet" onclick="event.stopPropagation()">
        <div class="modal-handle"></div>
        <button class="modal-close" onclick="closeProductModal()">‚úï</button>
        <div id="modal-content"></div>
    </div>
</div>
<!-- #endregion -->

<!-- #region Cart Modal -->
<div class="cart-overlay" id="cart-overlay" onclick="closeCart(event)">
    <div class="cart-panel" onclick="event.stopPropagation()">
        <div class="cart-panel-header">
            <h2 class="cart-panel-title" id="cart-title">üõí Panier</h2>
            <button class="modal-close" onclick="closeCart()" style="position:static;">‚úï</button>
        </div>
        <div id="cart-items"></div>
    </div>
</div>
<!-- #endregion -->

<!-- #region Rewards Modal -->
<div class="modal-overlay" id="rewards-modal" onclick="closeRewardsModal(event)">
    <div class="modal-sheet modal-sheet-rewards" onclick="event.stopPropagation()">
        <button class="modal-close" onclick="closeRewardsModal()">‚úï</button>
        <h2 class="rewards-title" id="rewards-title">R√©compenses</h2>
        <p class="rewards-intro" id="rewards-intro"></p>
        <div class="points-progress-wrap" id="points-progress-wrap">
            <div class="points-progress-header">
                <span class="points-progress-label" id="points-progress-label">Tes points</span>
                <span class="points-progress-value" id="points-progress-value">‚Äî</span>
            </div>
            <div class="points-bar-track">
                <div class="points-bar-fill" id="points-bar-fill"></div>
            </div>
            <div class="points-paliers" id="points-paliers"></div>
        </div>
        <div class="referral-block referral-block-prominent" id="referral-block">
            <h3 class="referral-title" id="referral-title">Ton lien de parrainage</h3>
            <p class="referral-intro" id="referral-intro"></p>
            <div class="referral-link-wrap">
                <input type="text" class="referral-link-input referral-link-input-large" id="referral-link-input" readonly />
                <button type="button" class="btn-copy-link btn-copy-link-large" id="referral-copy-btn">Copier le lien</button>
            </div>
        </div>
        <div class="rewards-list" id="rewards-list"></div>
    </div>
</div>
<!-- #endregion -->

<!-- #region Cart Button (FAB) -->
<button class="cart-fab" id="cart-fab" onclick="openCart()">
    üõí
    <span class="cart-fab-badge" id="cart-badge">0</span>
</button>
<!-- #endregion -->

<!-- #region Scripts -->
<script src="app.js"></script>
<!-- #endregion -->
</body>
</html>